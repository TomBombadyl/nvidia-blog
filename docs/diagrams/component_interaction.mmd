graph LR
    subgraph Ingestion["Ingestion Components"]
        RF["RSS Fetcher"]
        HC["HTML Cleaner"]
        GS["GCS Manager"]
        RI["RAG Ingester"]
        VI["Vector Ingester"]
    end
    
    subgraph Query["Query Components"]
        QT["Query Transformer"]
        QE["Query Engine"]
        AG["Answer Grader"]
        VS["Vector Search"]
    end
    
    subgraph Storage["Storage"]
        GCS[("GCS")]
        RC[("RAG Corpus")]
        VSI[("Vector Index")]
    end
    
    subgraph External["External Services"]
        GM["Gemini API"]
    end
    
    RF --> HC
    HC --> GS
    GS --> GCS
    GS --> RI
    RI --> RC
    HC --> VI
    VI --> VSI
    
    QT --> GM
    QT --> QE
    QE --> RC
    QE --> VS
    VS --> VSI
    QE --> AG
    AG --> GM

    style Ingestion fill:#e1f5ff
    style Query fill:#fff4e1
    style Storage fill:#e8f5e9
    style External fill:#f3e5f5

