graph TB
    subgraph CloudBuild["Cloud Build"]
        CB["Build & Deploy"]
    end
    
    subgraph ArtifactRegistry["Artifact Registry"]
        AR["Docker Images"]
    end
    
    subgraph CloudRun["Cloud Run"]
        subgraph Job["Ingestion Job"]
            IJ["RSS Ingestion Job<br/>Daily 7:00 AM UTC"]
        end
        
        subgraph Service["MCP Service"]
            MS["nvidia-blog-mcp-server<br/>0-10 instances<br/>1Gi RAM, 1 CPU"]
        end
    end
    
    subgraph GCS["Cloud Storage"]
        GCSBucket[("nvidia-blogs-raw<br/>europe-west3")]
    end
    
    subgraph VertexAI["Vertex AI"]
        RC["RAG Corpus<br/>europe-west3"]
        VSE["Vector Search<br/>europe-west3"]
        GM["Gemini 2.0 Flash<br/>europe-west4"]
    end
    
    CB --> AR
    AR --> Job
    AR --> Service
    
    Job --> GCSBucket
    Job --> RC
    Job --> VSE
    
    Service --> RC
    Service --> VSE
    Service --> GM
    
    style CloudBuild fill:#e1f5ff
    style ArtifactRegistry fill:#fff4e1
    style CloudRun fill:#e8f5e9
    style GCS fill:#f3e5f5
    style VertexAI fill:#fff9c4

